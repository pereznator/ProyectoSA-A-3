
<div class="container mt-5">
  <div class="row">
    <div class="col-lg-2"></div>
    <div class="col-lg-8">
      <div class="row">
        <div class="col-lg-10">
          <h3>Agregar Método de Pago</h3>
        </div>
        <div class="col-lg">
          <div class="d-grid gap-2">
            <button class="btn btn-sm btn-secondary" (click)="atras()">Atras</button>
          </div>
        </div>
      </div>
      <ul class="nav nav-tabs mt-2">
        <li class="nav-item">
          <a id="opTarjeta" class="nav-link active" role="button" [ngClass]="{'active': metodoPagoSeleccionado === 'tarjeta'}" (click)="metodoPagoSeleccionado = 'tarjeta'">Tarjeta</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" role="button" [ngClass]="{'active': metodoPagoSeleccionado === 'efectivo'}" (click)="metodoPagoSeleccionado = 'efectivo'">Efectivo</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" role="button" [ngClass]="{'active': metodoPagoSeleccionado === 'transferencia'}" (click)="metodoPagoSeleccionado = 'transferencia'">Transferencia</a>
        </li>
      </ul>
      
      <div class="w-full p-4" *ngIf="!loading">
        <ng-container *ngIf="metodoPagoSeleccionado === 'tarjeta'">
          <h5 class>Agregar Tarjeta</h5>
          <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8">
              <form [formGroup]="tarjetaForm">
                <div class="row">
                  <div class="col-12">
                    <label for="form-label">Numero de Tarjeta</label>
                    <input id="tarjetaNum" type="text" class="form-control" [ngClass]="{'is-invalid': notValidNumeroTarjeta}" formControlName="numero" placeholder="xxxx-xxxx-xxxx-xxxx">
                    <div class="invalid-feedback">
                      La tarjeta debe tener un minimo de 16 caracteres.
                    </div>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-lg-4">
                    <label for="form-label">Mes de Expiracion</label>
                    <input id="mesExp" type="number" class="form-control" [ngClass]="{'is-invalid': notValidMesExpTarjeta}" formControlName="mesExp" placeholder="##">
                    <div class="invalid-feedback">
                      Mes de Expiracion es requerida.
                    </div>
                  </div>
                  <div class="col-lg-4">
                    <label for="form-label">Año de Expiracion</label>
                    <input id="yearExp" type="number" class="form-control" [ngClass]="{'is-invalid': notValidYearExpTarjeta}" formControlName="yearExp" placeholder="####">
                    <div id="invalidYear" class="invalid-feedback">
                      Año de Expiracion es requerida.
                    </div>
                  </div>
                  <div class="col-lg-4">
                    <label for="form-label">CVV</label>
                    <input id="cvv" type="text" class="form-control" [ngClass]="{'is-invalid': notValidCVVTarjeta}" formControlName="cvv" placeholder="CVV">
                    <div class="invalid-feedback">
                      CVV es requerido.
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <div class="col-lg-2"></div>
          </div>
        </ng-container>
        <ng-container *ngIf="metodoPagoSeleccionado !== 'tarjeta'">
          <div class="d-flex justify-content-center">
            <h6 class="h6">Método de pago '{{metodoPagoSeleccionado}}' seleccionado.</h6>
          </div>
        </ng-container>
        <div class="d-flex justify-content-end">
          <button id="agregarTarjeta" class="btn btn-primary" (click)="guardar()">Agregar</button>
        </div>
      </div>
    </div>
    <div class="col-lg-2"></div>
  </div>
</div>  
  
