<div class="container mt-3">
  <h3>Las ofertas del momento</h3>
  <div id="carouselExampleCaptions" class="carousel slide oferta-item">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleCaptions" [ngClass]="{'active': idx === 0}" [attr.data-bs-slide-to]="idx" aria-current="true" aria-label="Slide 1" *ngFor="let oferta of ofertas; let idx = index;"></button>
      <!-- <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button> -->
    </div>
    <div class="carousel-inner oferta-item">
      <div class="carousel-item oferta-item" [ngClass]="{'active': idx === 0}" *ngFor="let oferta of ofertas; let idx = index;">
        <img [src]="oferta.portada" class="d-block w-100 oferta-img" alt="...">
        <div class="carousel-caption d-none d-md-block oferta-desc">
          <a role="button" class="link-light link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" (click)="verProducto(oferta.producto_id)">
            <h5>{{oferta.producto}} {{oferta.monto | currency: 'Q'}}</h5>
          </a>
          <p>{{oferta.descripcion}}</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <div class="row mt-3 bg-light p-3">
    <div class="col-lg text-center">
      <h4 class="mt-3">Top 10 Juegos Más Vendidos</h4>
      <table class="table mt-3">
        <thead class="table-dark">
          <tr>
            <th>Puesto</th>
            <th>Juego</th>
            <th>Precio</th>
            <th>Ventas</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productosVendidos; let idx = index;">
            <th>{{idx + 1}}</th>
            <td>{{producto.producto}}</td>
            <td>{{producto.precio | currency: 'Q'}}</td>
            <td>{{producto.ventas}}</td>
            <td>
              <button class="btn btn-sm btn-primary" ngbTooltip="Ver" (click)="verProducto(producto.id)">
                <i class="bi bi-eye"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-lg text-center">
      <h4 class="mt-3">Top 10 Juegos Mejor Valorados</h4>
      <table class="table mt-3">
        <thead class="table-dark">
          <tr>
            <th>Puesto</th>
            <th>Juego</th>
            <th>Precio</th>
            <th>Votos</th>
            <th>Calificación</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productosValorados; let idx = index;">
            <th>{{idx + 1}}</th>
            <td>{{producto.producto}}</td>
            <td>{{producto.precio | currency: 'Q'}}</td>
            <td>{{producto.cantidad_votos}}</td>
            <td>{{producto.avg_valoracion}}</td>
            <td>
              <button class="btn btn-sm btn-primary" ngbTooltip="Ver" (click)="verProducto(producto.id)">
                <i class="bi bi-eye"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>